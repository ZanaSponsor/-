<!DOCTYPE html>
<html dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>سیستەمی فرۆشتنی زانا - بەشی پارچەکان</title>
    <style>
        body { font-family: sans-serif; background: #f0f2f5; padding: 15px; text-align: center; }
        .container { max-width: 600px; margin: auto; background: white; padding: 20px; border-radius: 20px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); }
        
        .section-title { background: #3182ce; color: white; padding: 10px; border-radius: 10px; margin: 20px 0 10px 0; }
        .battery-title { background: #2f855a; }

        .search-area { display: flex; gap: 10px; margin-bottom: 20px; }
        input { flex: 1; padding: 15px; border: 2px solid #ddd; border-radius: 12px; font-size: 16px; }
        .btn-add { background: #4a5568; color: white; border: none; padding: 0 20px; border-radius: 12px; cursor: pointer; }

        .cart-table { width: 100%; border-collapse: collapse; margin-top: 20px; }
        .cart-table th, .cart-table td { padding: 12px; border-bottom: 1px solid #eee; text-align: right; }
        .cart-table img { width: 50px; height: 50px; object-fit: cover; border-radius: 8px; }

        .total-box { font-size: 28px; color: #2d3748; font-weight: bold; margin-top: 25px; padding: 15px; background: #edf2f7; border-radius: 15px; border: 2px dashed #cbd5e0; }
        .currency { color: #2f855a; font-size: 18px; }
    </style>
</head>
<body>

<div class="container">
    <h2>بەڕێوەبردنی فرۆشتنی زانا</h2>

    <div class="search-area">
        <input type="text" id="inputCode" placeholder="کۆدی شاشە یان پاتری بنووسە..." onkeypress="if(event.key==='Enter') addItem()">
        <button class="btn-add" onclick="addItem()">+ زیادکردن</button>
    </div>

    <table class="cart-table">
        <thead>
            <tr style="background: #f8f9fa;">
                <th>وێنە</th>
                <th>ناونیشانی پارچە</th>
                <th>نرخ</th>
                <th>کردار</th>
            </tr>
        </thead>
        <tbody id="cart-list">
            </tbody>
    </table>

    <div class="total-box">
        کۆی گشتی: <span id="total-amount">0</span> <span class="currency">$</span>
    </div>
    
    <button onclick="if(confirm('دڵنیای؟')) { cart=[]; updateUI(); }" style="margin-top:20px; color:red; background:none; border:none; cursor:pointer;">سڕینەوەی هەموو لیستەکە</button>
</div>

<script>
    // لیستی داتا (بەشی شاشە و پاتری جیاکراوەتەوە)
    const data = {
        // بەشی شاشەکان (Screens)
        "S13": { name: "شاشە iPhone 13 Pro", price: 160, img: "s13.jpg" },
        "S14": { name: "شاشە iPhone 14 Max", price: 210, img: "s14.jpg" },
        
        // بەشی پاترییەکان (Batteries)
        "B12": { name: "پاتری iPhone 12", price: 35, img: "b12.jpg" },
        "B13": { name: "پاتری iPhone 13 Mini", price: 45, img: "b13.jpg" }
    };

    let cart = [];

    function addItem() {
        const code = document.getElementById('inputCode').value.toUpperCase();
        const item = data[code];

        if (item) {
            cart.push(item);
            updateUI();
            document.getElementById('inputCode').value = "";
        } else {
            alert("ئەم کۆدە بوونی نییە لە کۆگادا!");
        }
    }

    function updateUI() {
        const list = document.getElementById('cart-list');
        list.innerHTML = "";
        let total = 0;

        cart.forEach((item, index) => {
            total += item.price;
            list.innerHTML += `
                <tr>
                    <td><img src="${item.img}" onerror="this.src='https://via.placeholder.com/50?text=No+Img'"></td>
                    <td style="font-weight:bold;">${item.name}</td>
                    <td style="color:#2f855a;">${item.price} $</td>
                    <td><button onclick="remove(${index})" style="color:red; border:none; background:none; cursor:pointer;">✖</button></td>
                </tr>`;
        });
        document.getElementById('total-amount').innerText = total;
    }

    function remove(index) {
        cart.splice(index, 1);
        updateUI();
    }
</script>

</body>
</html>
