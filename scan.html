<!DOCTYPE html>
<html dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Zana Adam - Online Store</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <style>
        :root { --primary: #1a202c; --accent: #ff0050; --fastpay: #e31e24; --bg: #f7fafc; }
        body { font-family: 'Segoe UI', Tahoma, sans-serif; background: var(--bg); margin: 0; padding: 10px; }
        .container { max-width: 1000px; margin: auto; }
        
        /* Login Section */
        #auth-section { background: white; padding: 40px; border-radius: 20px; text-align: center; box-shadow: 0 10px 25px rgba(0,0,0,0.1); margin-top: 50px; }
        
        /* Main UI */
        #main-ui { display: none; grid-template-columns: 1fr 380px; gap: 20px; margin-top: 20px; }
        .card { background: white; padding: 20px; border-radius: 15px; box-shadow: 0 4px 6px rgba(0,0,0,0.05); }
        .header { grid-column: 1/-1; background: var(--primary); color: white; padding: 20px; border-radius: 15px; text-align: center; }
        
        /* Category Styles */
        .category-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-top: 15px; }
        .item-card { border: 2px solid #edf2f7; padding: 15px; border-radius: 12px; cursor: pointer; transition: 0.3s; text-align: center; }
        .item-card:hover { border-color: var(--accent); background: #fff5f7; }
        .item-card h4 { margin: 5px 0; color: #2d3748; }
        .item-card span { color: var(--accent); font-weight: bold; }

        /* Cart & Payment */
        .fastpay-box { background: #fff5f5; border: 2px solid var(--fastpay); padding: 15px; border-radius: 10px; margin-top: 20px; }
        .btn-pay { background: var(--fastpay); color: white; border: none; padding: 15px; width: 100%; border-radius: 10px; font-size: 18px; font-weight: bold; cursor: pointer; margin-top: 10px; }
        
        .cart-item { display: flex; justify-content: space-between; padding: 10px 0; border-bottom: 1px solid #eee; }
        
        input { width: 100%; padding: 12px; border: 2px solid #e2e8f0; border-radius: 10px; margin: 10px 0; box-sizing: border-box; }
        @media (max-width: 850px) { #main-ui { grid-template-columns: 1fr; } }
    </style>
</head>
<body>

<div class="container">
    <div id="auth-section">
        <h2 style="color: var(--accent);">Ø¨Û•Ø®ÛØ±Ø¨ÛÛŒØª Ø¨Û† ÙÚ•Û†Ø´Ú¯Ø§ÛŒ Ø²Ø§Ù†Ø§</h2>
        <p>ØªÚ©Ø§ÛŒÛ• Ù†Ø§ÙˆÛŒ Ø®Û†Øª Ùˆ Ú˜Ù…Ø§Ø±Û•ÛŒ Ù…Û†Ø¨Ø§ÛŒÙ„ Ø¨Ù†ÙˆÙˆØ³Û• Ø¨Û† Ú†ÙˆÙˆÙ†Û• Ú˜ÙˆÙˆØ±Û•ÙˆÛ•</p>
        <input type="text" id="userName" placeholder="Ù†Ø§ÙˆÛŒ ØªÛ•ÙˆØ§Ùˆ">
        <input type="number" id="userPhone" placeholder="Ú˜Ù…Ø§Ø±Û•ÛŒ Ù…Û†Ø¨Ø§ÛŒÙ„">
        <button onclick="login()" class="btn-pay" style="background: var(--primary);">Ú†ÙˆÙˆÙ†Û• Ú˜ÙˆÙˆØ±Û•ÙˆÛ•</button>
    </div>

    <div id="main-ui">
        <div class="header">
            <h1 style="margin:0;">ZANA ONLINE STORE</h1>
            <p id="welcome-msg"></p>
        </div>

        <div class="card">
            <h3>ğŸ“¦ Ø®Ø²Ù…Û•ØªÚ¯ÙˆØ²Ø§Ø±ÛŒÛŒÛ•Ú©Ø§Ù† Ù‡Û•ÚµØ¨Ú˜ÛØ±Û•</h3>
            
            <h4>PUBG Mobile UC</h4>
            <div class="category-grid">
                <div class="item-card" onclick="addToCart('60 UC', 1500, 'PUBG')"><h4>60 UC</h4><span>1,500 Ø¯.Ú©</span></div>
                <div class="item-card" onclick="addToCart('325 UC', 7000, 'PUBG')"><h4>325 UC</h4><span>7,000 Ø¯.Ú©</span></div>
            </div>

            <h4>TikTok Coins</h4>
            <div class="category-grid">
                <div class="item-card" onclick="addToCart('100 Coins', 2000, 'TikTok')"><h4>100 Coins</h4><span>2,000 Ø¯.Ú©</span></div>
                <div class="item-card" onclick="addToCart('1000 Coins', 18000, 'TikTok')"><h4>1000 Coins</h4><span>18,000 Ø¯.Ú©</span></div>
            </div>

            <h4>Sponsor Services</h4>
            <div class="category-grid">
                <div class="item-card" onclick="addToCart('TikTok Sponsor', 15000, 'ADS')"><h4>Ø³Ù¾Û†Ù†Ø³Û•Ø±ÛŒ ØªÛŒÚ©ØªÛ†Ú©</h4><span>15,000 Ø¯.Ú©</span></div>
                <div class="item-card" onclick="addToCart('Instagram Ads', 12000, 'ADS')"><h4>Ø³Ù¾Û†Ù†Ø³Û•Ø±ÛŒ Ø¦ÛŒÙ†Ø³ØªØ§</h4><span>12,000 Ø¯.Ú©</span></div>
            </div>
        </div>

        <div class="card" style="height: fit-content;">
            <h3>ğŸ›’ Ø³Û•Ø¨Û•ØªÛ•ÛŒ Ú©Ú•ÛŒÙ†</h3>
            <div id="cart-list"><p style="text-align:center; color:#a0aec0;">Ø³Û•Ø¨Û•ØªÛ• Ø®Ø§ÚµÛŒÛŒÛ•</p></div>
            <div style="font-size: 20px; font-weight: bold; margin: 20px 0; border-top: 2px dashed #eee; padding-top: 10px;">
                Ú©Û†ÛŒ Ú¯Ø´ØªÛŒ: <span id="totalPrice">0</span> Ø¯.Ú©
            </div>

            <div class="fastpay-box">
                <label>ğŸ’° Ù¾Ø§Ø±Û•Ø¯Ø§Ù† Ø¨Û• ÙØ§Ø³ØªÙ¾Û•ÛŒ:</label>
                <p style="font-size: 13px; color: #666;">Ø¨Ú•ÛŒ (Total) Ø¨Ù†ÛØ±Û• Ø¨Û† Ø¦Û•Ù… Ú˜Ù…Ø§Ø±Û•ÛŒÛ•: <b>07758887488</b></p>
                <input type="number" id="tranID" placeholder="Ú˜Ù…Ø§Ø±Û•ÛŒ Ù¾Û•ÛŒÙˆÛ•Ù†Ø¯ÛŒ ÙˆÛ•Ø³ÚµÛ•Ú©Û• (Transaction ID)">
            </div>
            
            <button class="btn-pay" onclick="checkout()">ØªÛ•ÙˆØ§ÙˆÚ©Ø±Ø¯Ù†ÛŒ Ú©Ú•ÛŒÙ†</button>
        </div>
    </div>
</div>

<div id="receipt-area" style="display:none; padding: 40px; background: white; text-align: center;">
    <h2>ÙˆÛ•Ø³ÚµÛŒ ÙÛ•Ø±Ù…ÛŒ - ZANA STORE</h2>
    <div id="r-details" style="text-align: right; margin-top: 20px;"></div>
</div>

<script>
    let currentUser = {};
    let cart = [];

    function login() {
        const name = document.getElementById('userName').value;
        const phone = document.getElementById('userPhone').value;
        if(name && phone) {
            currentUser = { name, phone };
            document.getElementById('auth-section').style.display = 'none';
            document.getElementById('main-ui').style.display = 'grid';
            document.getElementById('welcome-msg').innerText = `Ø¨Û•Ø®ÛØ±Ø¨ÛÛŒØª ${name}`;
        } else { alert("ØªÚ©Ø§ÛŒÛ• Ø²Ø§Ù†ÛŒØ§Ø±ÛŒÛŒÛ•Ú©Ø§Ù† Ù¾Ú• Ø¨Ú©Û•ÙˆÛ•"); }
    }

    function addToCart(name, price, type) {
        cart.push({ name, price, type });
        updateUI();
    }

    function updateUI() {
        const list = document.getElementById('cart-list');
        list.innerHTML = "";
        let total = 0;
        cart.forEach((item, index) => {
            total += item.price;
            list.innerHTML += `<div class="cart-item">
                <span>${item.name} (${item.type})</span>
                <span>${item.price.toLocaleString()} <button onclick="removeItem(${index})" style="border:none; color:red; background:none; cursor:pointer;">âœ•</button></span>
            </div>`;
        });
        document.getElementById('totalPrice').innerText = total.toLocaleString();
    }

    function removeItem(index) { cart.splice(index, 1); updateUI(); }

    function checkout() {
        const tid = document.getElementById('tranID').value;
        if(cart.length === 0) return alert("Ø³Û•Ø¨Û•ØªÛ• Ø®Ø§ÚµÛŒÛŒÛ•");
        if(!tid) return alert("ØªÚ©Ø§ÛŒÛ• Ú˜Ù…Ø§Ø±Û•ÛŒ ÙˆÛ•Ø³ÚµÛŒ ÙØ§Ø³ØªÙ¾Û•ÛŒ Ø¨Ù†ÙˆÙˆØ³Û•");

        const now = new Date();
        const fullDate = now.toLocaleDateString('ku-IQ') + " | " + now.toLocaleTimeString('ku-IQ');

        let msg = `*ÙˆÛ•Ø³ÚµÛŒ Ù†ÙˆÛ - ZANA STORE*%0A`;
        msg += `*Ú©Ú•ÛŒØ§Ø±:* ${currentUser.name}%0A*Ù…Û†Ø¨Ø§ÛŒÙ„:* ${currentUser.phone}%0A*Ø¨Û•Ø±ÙˆØ§Ø±:* ${fullDate}%0A`;
        msg += `*ØªÚ•Ø§Ù†Ø²Ø§Ú©Ø´Ù†:* ${tid}%0A`;
        msg += `--------------------------%0A`;

        cart.forEach(item => {
            msg += `â–«ï¸ ${item.name} - ${item.price.toLocaleString()} Ø¯.Ú©%0A`;
        });

        msg += `--------------------------%0A*Ú©Û†ÛŒ Ú¯Ø´ØªÛŒ: ${document.getElementById('totalPrice').innerText} Ø¯ÛŒÙ†Ø§Ø±*`;

        // Ø¨Û† Ø¯Ø±ÙˆØ³ØªÚ©Ø±Ø¯Ù†ÛŒ PDF
        const rArea = document.getElementById('r-details');
        rArea.innerHTML = `<p><b>Ú©Ú•ÛŒØ§Ø±:</b> ${currentUser.name}</p><p><b>Ø¨Û•Ø±ÙˆØ§Ø±:</b> ${fullDate}</p><hr>`;
        cart.forEach(i => rArea.innerHTML += `<p>${i.name} - ${i.price} Ø¯.Ú©</p>`);
        
        document.getElementById('receipt-area').style.display = 'block';
        html2pdf().from(document.getElementById('receipt-area')).save(`Zana-Store-${tid}.pdf`).then(()=> {
            document.getElementById('receipt-area').style.display = 'none';
        });

        window.open(`https://wa.me/9647758887488?text=${msg}`, '_blank');
    }
</script>

</body>
</html>
