<!DOCTYPE html>
<html dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Zana Online Store</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <style>
        :root { --primary: #1e3a8a; --accent: #ff0050; --success: #22c55e; --bg: #f3f4f6; }
        body { font-family: 'Segoe UI', sans-serif; background: var(--bg); margin: 0; display: flex; justify-content: center; min-height: 100vh; }
        .container { width: 100%; max-width: 1100px; padding: 15px; }
        .card { background: white; padding: 25px; border-radius: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); }
        
        /* Auth System */
        .auth-container { max-width: 400px; margin: 50px auto; text-align: center; }
        .tab-btn { padding: 10px 20px; cursor: pointer; border: none; background: none; font-size: 16px; font-weight: bold; color: #666; }
        .tab-btn.active { color: var(--primary); border-bottom: 3px solid var(--primary); }
        input { width: 100%; padding: 12px; border: 2px solid #e5e7eb; border-radius: 12px; margin: 10px 0; font-size: 16px; box-sizing: border-box; }
        .btn-main { width: 100%; padding: 14px; border: none; border-radius: 12px; background: var(--primary); color: white; font-weight: bold; cursor: pointer; }

        /* Store Layout */
        #main-store { display: none; grid-template-columns: 1fr 380px; gap: 20px; }
        .header-store { grid-column: 1/-1; background: var(--primary); color: white; padding: 20px; border-radius: 15px; display: flex; justify-content: space-between; align-items: center; }
        .product-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(140px, 1fr)); gap: 10px; margin: 15px 0; }
        .product-item { background: #fff; border: 2px solid #f3f4f6; padding: 15px; border-radius: 15px; text-align: center; cursor: pointer; transition: 0.2s; }
        .product-item:hover { border-color: var(--accent); background: #fff5f7; }
        
        #sms-verify { display: none; }
        @media (max-width: 850px) { #main-store { grid-template-columns: 1fr; } }
    </style>
</head>
<body>
<div class="container">
    <div id="auth-box" class="card auth-container">
        <div id="auth-tabs">
            <button id="loginTab" class="tab-btn active" onclick="showAuth('login')">Ú†ÙˆÙˆÙ†Û• Ú˜ÙˆÙˆØ±Û•ÙˆÛ•</button>
            <button id="signupTab" class="tab-btn" onclick="showAuth('signup')">Ø®Û† ØªÛ†Ù…Ø§Ø±Ú©Ø±Ø¯Ù†</button>
        </div>
        <div id="login-form">
            <input type="number" id="logPhone" placeholder="Ú˜Ù…Ø§Ø±Û•ÛŒ Ù…Û†Ø¨Ø§ÛŒÙ„">
            <input type="password" id="logPass" placeholder="Ù¾Ø§Ø³Û†Ø±Ø¯">
            <button class="btn-main" onclick="handleAuth('login')">Ú†ÙˆÙˆÙ†Û• Ú˜ÙˆÙˆØ±Û•ÙˆÛ•</button>
        </div>
        <div id="signup-form" style="display: none;">
            <input type="text" id="regName" placeholder="Ù†Ø§ÙˆÛŒ ØªÛ•ÙˆØ§Ùˆ">
            <input type="number" id="regPhone" placeholder="Ú˜Ù…Ø§Ø±Û•ÛŒ Ù…Û†Ø¨Ø§ÛŒÙ„">
            <input type="password" id="regPass" placeholder="Ù¾Ø§Ø³Û†Ø±Ø¯ÛŒ Ù†ÙˆÛ">
            <button class="btn-main" onclick="handleAuth('signup')">Ø¯Ø±ÙˆØ³ØªÚ©Ø±Ø¯Ù†ÛŒ Ø¦Û•Ú˜Ù…Ø§Ø±</button>
        </div>
        <div id="sms-verify">
            <p>Ú©Û†Ø¯ÛŒ Ú†Ø§Ù„Ø§Ú©Ú©Ø±Ø¯Ù† Ø¨Ù†ÙˆÙˆØ³Û• (ØªÛØ¨ÛŒÙ†ÛŒ: Ú©Û†Ø¯Û•Ú©Û• 1234 ØªØ§Ù‚ÛŒÚ©Ø±Ø¯Ù†Û•ÙˆÛ•ÛŒÛ•)</p>
            <input type="number" id="smsCode" placeholder="0000">
            <button class="btn-main" style="background: var(--success);" onclick="verifySMS()">Ù¾Ø´ØªÚ•Ø§Ø³ØªÚ©Ø±Ø¯Ù†Û•ÙˆÛ•</button>
        </div>
    </div>
    <div id="main-store">
        <div class="header-store">
            <h2 style="margin:0;">ZANA STORE</h2>
            <div id="user-display" style="font-weight: bold;"></div>
            <button onclick="location.reload()" style="background:rgba(255,255,255,0.2); border:none; color:white; padding:8px 15px; border-radius:10px; cursor:pointer;">Ø¯Û•Ø±Ú†ÙˆÙˆÙ†</button>
        </div>

        <div class="card">
            <h3>ğŸ® Ø®Ø²Ù…Û•ØªÚ¯ÙˆØ²Ø§Ø±ÛŒÛŒÛ•Ú©Ø§Ù†ÛŒ PUBG & TikTok</h3>
            
            <h4>PUBG Mobile UC</h4>
            <div class="product-grid">
                <div class="product-item" onclick="addItem('60 UC', 1500)">60 UC<br><span>1,500 Ø¯.Ú©</span></div>
                <div class="product-item" onclick="addItem('325 UC', 7250)">325 UC<br><span>7,250 Ø¯.Ú©</span></div>
                <div class="product-item" onclick="addItem('660 UC', 14500)">660 UC<br><span>14,500 Ø¯.Ú©</span></div>
            </div>

            <h4>TikTok Coins & Ads</h4>
            <div class="product-grid">
                <div class="product-item" onclick="addItem('100 Coins', 2250)">100 C<br><span>2,250 Ø¯.Ú©</span></div>
                <div class="product-item" onclick="addItem('1000 Coins', 19000)">1000 C<br><span>19,000 Ø¯.Ú©</span></div>
                <div class="product-item" onclick="addItem('Sponsor Ads', 15000)">Ø³Ù¾Û†Ù†Ø³Û•Ø±<br><span>15,000 Ø¯.Ú©</span></div>
            </div>
        </div>

        <div class="card" style="height: fit-content; border: 2px solid var(--primary);">
            <h3 style="margin-top:0;">ğŸ›’ Ø³Û•Ø¨Û•ØªÛ•ÛŒ Ú©Ú•ÛŒÙ†</h3>
            <div id="cart-list" style="min-height: 50px;"></div>
            <div style="font-size: 22px; font-weight: 800; margin: 20px 0; border-top: 2px dashed #eee; padding-top: 15px; display: flex; justify-content: space-between;">
                <span>Ú©Û†ÛŒ Ú¯Ø´ØªÛŒ:</span>
                <span id="totalPrice">0</span>
            </div>

            <div style="background:#fff5f5; border: 1px solid #e31e24; padding: 15px; border-radius: 12px;">
                <p style="margin:0 0 10px 0; color:#e31e24; font-weight:bold;">ğŸ’¸ Ù¾Ø§Ø±Û•Ø¯Ø§Ù† Ø¨Û• ÙØ§Ø³ØªÙ¾Û•ÛŒ:</p>
                <small>Ø¨Ú•ÛŒ Ú©Û†ÛŒ Ú¯Ø´ØªÛŒ Ø¨Ù†ÛØ±Û• Ø¨Û†: <b>07758887488</b></small>
                <input type="text" id="fastpayID" placeholder="Transaction ID ÛŒØ§Ù† Ú˜Ù…Ø§Ø±Û•ÛŒ ÙˆÛ•Ø³Úµ">
            </div>
            
            <button class="btn-main" style="background: var(--success); margin-top: 15px; font-size: 18px;" onclick="completeOrder()">âœ… Ù†Ø§Ø±Ø¯Ù†ÛŒ Ø¯Ø§ÙˆØ§Ú©Ø§Ø±ÛŒ Ø¨Û† ÙˆØ§ØªØ³Ø¦Ø§Ù¾</button>
        </div>
    </div>
</div>

<script>
    let users = JSON.parse(localStorage.getItem('zana_users')) || [];
    let currentUser = null;
    let cart = [];

    function showAuth(type) {
        document.getElementById('login-form').style.display = type === 'login' ? 'block' : 'none';
        document.getElementById('signup-form').style.display = type === 'signup' ? 'block' : 'none';
        document.getElementById('loginTab').className = `tab-btn ${type==='login'?'active':''}`;
        document.getElementById('signupTab').className = `tab-btn ${type==='signup'?'active':''}`;
    }

    function handleAuth(type) {
        if(type === 'signup') {
            const name = document.getElementById('regName').value;
            const phone = document.getElementById('regPhone').value;
            const pass = document.getElementById('regPass').value;
            if(!name || !phone || !pass) return alert("ØªÚ©Ø§ÛŒÛ• Ù‡Û•Ù…ÙˆÙˆ Ø®Ø§Ù†Û•Ú©Ø§Ù† Ù¾Ú• Ø¨Ú©Û•ÙˆÛ•");
            
            currentUser = { name, phone, pass };
            document.getElementById('signup-form').style.display = 'none';
            document.getElementById('auth-tabs').style.display = 'none';
            document.getElementById('sms-verify').style.display = 'block';
        } else {
            const phone = document.getElementById('logPhone').value;
            const pass = document.getElementById('logPass').value;
            const user = users.find(u => u.phone === phone && u.pass === pass);
            if(user) { currentUser = user; startStore(); } 
            else { alert("Ú˜Ù…Ø§Ø±Û• ÛŒØ§Ù† Ù¾Ø§Ø³Û†Ø±Ø¯ Ù‡Û•ÚµÛ•ÛŒÛ•!"); }
        }
    }

    function verifySMS() {
        if(document.getElementById('smsCode').value === "1234") {
            users.push(currentUser);
            localStorage.setItem('zana_users', JSON.stringify(users));
            startStore();
        } else { alert("Ú©Û†Ø¯ÛŒ Ù¾Ø´ØªÚ•Ø§Ø³ØªÚ©Ø±Ø¯Ù†Û•ÙˆÛ• Ù‡Û•ÚµÛ•ÛŒÛ•! (Ú©Û†Ø¯Û•Ú©Û• 1234)"); }
    }

    function startStore() {
        document.getElementById('auth-box').style.display = 'none';
        document.getElementById('main-store').style.display = 'grid';
        document.getElementById('user-display').innerText = "ğŸ‘¤ " + currentUser.name;
    }

    function addItem(name, price) {
        cart.push({name, price});
        renderCart();
    }

    function renderCart() {
        const list = document.getElementById('cart-list');
        list.innerHTML = cart.length === 0 ? '<p style="text-align:center; color:#999;">Ø³Û•Ø¨Û•ØªÛ• Ø®Ø§ÚµÛŒÛŒÛ•</p>' : '';
        let total = 0;
        cart.forEach((item, index) => {
            total += item.price;
            list.innerHTML += `<div style="display:flex; justify-content:space-between; padding:8px 0; border-bottom:1px solid #f0f0f0;">
                <span>${item.name}</span>
                <span>${item.price.toLocaleString()} Ø¯.Ú© <button onclick="removeItem(${index})" style="color:red; border:none; background:none; cursor:pointer;">âœ•</button></span>
            </div>`;
        });
        document.getElementById('totalPrice').innerText = total.toLocaleString() + " Ø¯ÛŒÙ†Ø§Ø±";
    }

    function removeItem(idx) { cart.splice(idx, 1); renderCart(); }

    function completeOrder() {
        const tx = document.getElementById('fastpayID').value;
        if(cart.length === 0) return alert("Ø³Û•Ø¨Û•ØªÛ•Ú©Û•Øª Ø®Ø§ÚµÛŒÛŒÛ•!");
        if(!tx) return alert("ØªÚ©Ø§ÛŒÛ• Ú˜Ù…Ø§Ø±Û•ÛŒ ÙˆÛ•Ø³ÚµÛŒ ÙØ§Ø³ØªÙ¾Û•ÛŒ Ø¨Ù†ÙˆÙˆØ³Û•");

        const now = new Date();
        const timeStr = now.toLocaleDateString('ku-IQ') + " " + now.toLocaleTimeString('ku-IQ');

        let msg = `*ğŸ›’ Ø¯Ø§ÙˆØ§Ú©Ø§Ø±ÛŒ Ù†ÙˆÛ - ZANA STORE*%0A`;
        msg += `*ğŸ‘¤ Ú©Ú•ÛŒØ§Ø±:* ${currentUser.name}%0A`;
        msg += `*ğŸ“ Ù…Û†Ø¨Ø§ÛŒÙ„:* ${currentUser.phone}%0A`;
        msg += `*â° Ú©Ø§Øª:* ${timeStr}%0A`;
        msg += `*ğŸ’³ ØªÚ•Ø§Ù†Ø²Ø§Ú©Ø´Ù†:* ${tx}%0A`;
        msg += `----------------------------%0A`;
        cart.forEach(item => msg += `â€¢ ${item.name} - ${item.price.toLocaleString()} Ø¯.Ú©%0A`);
        msg += `----------------------------%0A`;
        msg += `*ğŸ’° Ú©Û†ÛŒ Ú¯Ø´ØªÛŒ: ${document.getElementById('totalPrice').innerText}*`;

        window.open(`https://wa.me/9647758887488?text=${msg}`, '_blank');
    }
</script>
</body>
</html>
