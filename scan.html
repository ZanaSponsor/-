<!DOCTYPE html>
<html dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Zana Store - Payment Gateway</title>
    <link href="https://fonts.cdnfonts.com/css/rabar" rel="stylesheet">
    <style>
        :root { --p: #1e3a8a; --s: #22c55e; --fastpay: #e31e24; --fib: #000000; --bg: #f8fafc; }
        body { font-family: 'Rabar', sans-serif; background: var(--bg); margin: 0; }
        .container { max-width: 1000px; margin: auto; padding: 20px; }
        .card { background: white; padding: 20px; border-radius: 20px; box-shadow: 0 4px 15px rgba(0,0,0,0.05); margin-bottom: 20px; }
        
        /* Payment Options */
        .pay-options { display: flex; gap: 10px; margin: 15px 0; }
        .pay-btn { flex: 1; padding: 15px; border: 2px solid #eee; border-radius: 12px; cursor: pointer; text-align: center; transition: 0.3s; font-weight: bold; }
        .pay-btn.active { border-color: var(--p); background: #eff6ff; }
        
        .qr-section { text-align: center; display: none; padding: 20px; border: 1px dashed #ccc; border-radius: 15px; margin-top: 15px; }
        .qr-section img { width: 200px; height: 200px; border-radius: 10px; }

        input { width: 100%; padding: 12px; margin: 10px 0; border: 2px solid #e2e8f0; border-radius: 10px; box-sizing: border-box; font-family: 'Rabar'; }
        .btn-send { background: var(--s); color: white; border: none; padding: 15px; width: 100%; border-radius: 10px; font-weight: bold; cursor: pointer; font-size: 16px; }
        
        .history-card { border-right: 4px solid var(--p); padding-right: 15px; margin-bottom: 10px; }
        .status-pending { color: #b45309; background: #fef3c7; padding: 2px 8px; border-radius: 5px; font-size: 12px; }
    </style>
</head>
<body>

<div class="container">
    <div class="card">
        <h2 style="margin-top:0; color:var(--p);">ðŸ’³ Ù‡Û•Ù†Ú¯Ø§ÙˆÛŒ Ù¾Ø§Ø±Û•Ø¯Ø§Ù†</h2>
        <p>Ø¬Û†Ø±ÛŒ Ù¾Ø§Ø±Û•Ø¯Ø§Ù†Û•Ú©Û• Ù‡Û•ÚµØ¨Ú˜ÛŽØ±Û• Ø¨Û† Ø¨ÛŒÙ†ÛŒÙ†ÛŒ Ø¨Ø§Ø±Ú©Û†Ø¯:</p>
        
        <div class="pay-options">
            <div id="btn-fastpay" class="pay-btn" onclick="selectPay('fastpay')">FastPay</div>
            <div id="btn-fib" class="pay-btn" onclick="selectPay('fib')">FIB</div>
        </div>

        <div id="qr-fastpay" class="qr-section">
            <h4 style="color:var(--fastpay);">Ø¨Ø§Ø±Ú©Û†Ø¯ÛŒ FastPay</h4>
            <img src="https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=FASTPAY_NUMBER_HERE" alt="FastPay QR">
            <p>Ú˜Ù…Ø§Ø±Û•: <b>07758887488</b></p>
        </div>

        <div id="qr-fib" class="qr-section">
            <h4 style="color:var(--fib);">Ø¨Ø§Ø±Ú©Û†Ø¯ÛŒ FIB</h4>
            <img src="https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=FIB_ACCOUNT_HERE" alt="FIB QR">
            <p>Ø¨Û† Ø¦Û•Ú˜Ù…Ø§Ø±ÛŒ: <b>Zana Store</b></p>
        </div>

        <div id="payment-info" style="display:none;">
            <input type="text" id="txID" placeholder="Transaction ID (Ú˜Ù…Ø§Ø±Û•ÛŒ ÙˆÛ•Ø³Úµ) Ù„ÛŽØ±Û• Ø¨Ù†ÙˆÙˆØ³Û•">
            <button class="btn-send" onclick="sendOrder()">âœ… Ù†Ø§Ø±Ø¯Ù†ÛŒ ÙˆÛ•Ø³Úµ Ø¨Û† ÙˆØ§ØªØ³Ø¦Ø§Ù¾</button>
        </div>
    </div>

    <div class="card">
        <h3>ðŸ“œ Ù…ÛŽÚ˜ÙˆÙˆÛŒ Ù…Ø§Ù…Û•ÚµÛ•Ú©Ø§Ù†</h3>
        <div id="order-history">
            <p style="color:gray; text-align:center;">Ù‡ÛŒÚ† Ù…Ø§Ù…Û•ÚµÛ•ÛŒÛ•Ú© Ù†Û•Ú©Ø±Ø§ÙˆÛ•</p>
        </div>
    </div>
</div>

<script>
    let selectedMethod = '';
    let orders = JSON.parse(localStorage.getItem('zana_orders')) || [];

    function selectPay(method) {
        selectedMethod = method;
        document.querySelectorAll('.qr-section').forEach(el => el.style.display = 'none');
        document.querySelectorAll('.pay-btn').forEach(el => el.classList.remove('active'));
        
        document.getElementById('qr-' + method).style.display = 'block';
        document.getElementById('btn-' + method).classList.add('active');
        document.getElementById('payment-info').style.display = 'block';
    }

    function sendOrder() {
        const txid = document.getElementById('txID').value;
        if(!txid) return alert("ØªÚ©Ø§ÛŒÛ• Ú˜Ù…Ø§Ø±Û•ÛŒ ÙˆÛ•Ø³Úµ Ø¨Ù†ÙˆÙˆØ³Û•");

        const newOrder = {
            id: Date.now(),
            method: selectedMethod,
            txid: txid,
            date: new Date().toLocaleString('ku-IQ'),
            status: 'Ù„Û• Ù¾ÛŽØ¯Ø§Ú†ÙˆÙˆÙ†Û•ÙˆÛ•ÛŒÛ• â³'
        };

        // Ù¾Ø§Ø´Û•Ú©Û•ÙˆØªÚ©Ø±Ø¯Ù† Ù„Û• Ù…ÛŽÚ˜ÙˆÙˆ
        orders.unshift(newOrder);
        localStorage.setItem('zana_orders', JSON.stringify(orders));
        renderHistory();

        // Ø¦Ø§Ù…Ø§Ø¯Û•Ú©Ø±Ø¯Ù†ÛŒ Ù†Ø§Ù…Û•ÛŒ ÙˆØ§ØªØ³Ø¦Ø§Ù¾
        const msg = `*ðŸš€ ÙˆÛ•Ø³ÚµÛŒ Ù†ÙˆÛŽ - ZANA STORE*%0A` +
                    `--------------------------%0A` +
                    `*Ø¬Û†Ø±ÛŒ Ù¾Ø§Ø±Û•Ø¯Ø§Ù†:* ${selectedMethod.toUpperCase()}%0A` +
                    `*Ú˜Ù…Ø§Ø±Û•ÛŒ ÙˆÛ•Ø³Úµ:* ${txid}%0A` +
                    `*Ú©Ø§ØªÛŒ Ù†Ø§Ø±Ø¯Ù†:* ${newOrder.date}%0A` +
                    `--------------------------%0A` +
                    `ØªÚ©Ø§ÛŒÛ• Ø¨Û•Ø±Ù‡Û•Ù…Û•Ú©Û•Ù… Ø¨Û† Ú©Ø§Ø±Ø§ Ø¨Ú©Û•Ù†.`;

        window.open(`https://wa.me/9647758887488?text=${encodeURIComponent(msg)}`, '_blank');
        document.getElementById('txID').value = '';
    }

    function renderHistory() {
        const container = document.getElementById('order-history');
        if(orders.length === 0) return;
        
        container.innerHTML = orders.map(order => `
            <div class="history-card">
                <div style="display:flex; justify-content:space-between; align-items:center;">
                    <b>${order.method.toUpperCase()} - TX: ${order.txid}</b>
                    <span class="status-badge status-pending">${order.status}</span>
                </div>
                <small style="color:gray;">${order.date}</small>
            </div>
        `).join('');
    }

    // Ù„Û†Ø¯Ú©Ø±Ø¯Ù†ÛŒ Ù…ÛŽÚ˜ÙˆÙˆ Ù„Û•Ú©Ø§ØªÛŒ Ú©Ø±Ø¯Ù†Û•ÙˆÛ•ÛŒ ÙˆÛŽØ¨Ø³Ø§ÛŒØª
    renderHistory();
</script>

</body>
</html>
